<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StacKAT: Infinite-State Network Verification - PLDI 2025</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/theme/white.min.css" id="theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/monokai.min.css">
    
    <link rel="stylesheet" href="slides.css"></head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- Slide 1: Title slide introducing StacKAT -->
            <section class="title-slide" data-transition="fade">
                <div style="margin-top: 50px">
                <h1 style="font-size: 2.2em; margin-bottom: 0.3em;">StacKAT: Infinite-State Network Verification</h1>
                <h4 style="font-size: 1em; margin-bottom: 1em;">PLDI 2025</h4>
                <!-- <h4 style="font-size: 0.8em; margin-bottom: 0.4em;"><a href="https://doi.org/10.1145/3729257">https://doi.org/10.1145/3729257</a></h4> -->
                <p class="authors" style="font-size: 0.8em; line-height: 1.4; display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <span>
                        Jules Jacobs (Cornell)<br>
                        Nate Foster (Cornell)<br>
                        Tobias Kappé (Leiden)<br>
                        Dexter Kozen (Cornell)
                    </span>
                    <span>
                        Lily Saada (Cornell)<br>
                        Alexandra Silva (Cornell)<br>
                        Jana Wagemaker (Radboud)
                    </span>
                </p>
                </div>
            </section>

            <!-- Slide 2: Packet processing animation showing how packets traverse networks and get modified -->
            <section data-transition="fade">
                <h2>Packet Processing</h2>
                
                <div class="packet-animation">
                    <div id="network-viz">
                        <svg id="network-svg" width="850" height="350"></svg>
                        <div id="mini-packet" class="mini-packet">
                            <div class="mini-packet-field switch"></div>
                            <div class="mini-packet-field src"></div>
                            <div class="mini-packet-field dst"></div>
                            <div class="mini-packet-field port"></div>
                            <div class="mini-packet-field vlan"></div>
                            <div class="mini-packet-field ttl"></div>
                        </div>
                    </div>
                    <div id="large-packet" class="large-packet">
                        <div class="packet-fields">
                            <div class="field switch" data-field="switch">
                                <div class="field-name">SWITCH</div>
                                <div class="field-value" id="field-switch">-</div>
                            </div>
                            <div class="field src" data-field="src">
                                <div class="field-name">SRC</div>
                                <div class="field-value" id="field-src">-</div>
                            </div>
                            <div class="field dst" data-field="dst">
                                <div class="field-name">DST</div>
                                <div class="field-value" id="field-dst">-</div>
                            </div>
                            <div class="field port" data-field="port">
                                <div class="field-name">PORT</div>
                                <div class="field-value" id="field-port">-</div>
                            </div>
                            <div class="field vlan" data-field="vlan">
                                <div class="field-name">VLAN</div>
                                <div class="field-value" id="field-vlan">-</div>
                            </div>
                            <div class="field ttl" data-field="ttl">
                                <div class="field-name">TTL</div>
                                <div class="field-value" id="field-ttl">-</div>
                            </div>
                        </div>
                    </div>
                </div>
                
  
            </section>
<!-- 
            <div class="fragment">
                <h3>NetKAT Network Verification</h3>
                Idea: model packet processing as imperative program
                Packet field = local variable
                Match rule = if statement
                Action = update local variable
                Multi-hop = loops
                [illustrate with a big packet, program that updates it, and the subsequent big packet]
            </div>
            
            <div class="fragment">
                <h3>NetKAT Limitation</h3>
                <p class="highlight-red">Fixed number of fields with fixed number of bits</p>
            </div> -->

            <!-- Slide 3: NetKAT Network Verification -->
            <section data-transition="fade">
                <h2>NetKAT: Network Verification</h2>
                
                <div style="display: flex; gap: 40px; margin-top: 20px; align-items: flex-start;">
                    <!-- Left column: Pipeline -->
                    <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                        <!-- Input packet at top -->
                        <div style="width: 450px; margin-bottom: 8px;">
                            <div style="font-size: 0.7em; color: #7f8c8d; margin-bottom: 3px;">Input Packet:</div>
                            <div style="transform: scale(0.55); transform-origin: left top; width: 750px; height: 44px;">
                                <div style="background: white; border: 2px solid #2c3e50; border-radius: 8px; padding: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <div class="packet-fields" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px;">
                                        <div class="field switch" style="background: #34495e; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">SWITCH</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">S1</div>
                                        </div>
                                        <div class="field src" style="background: #3498db; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">SRC</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">10.0.0.1</div>
                                        </div>
                                        <div class="field dst" style="background: #e74c3c; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">DST</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">10.0.0.101</div>
                                        </div>
                                        <div class="field port" style="background: #f39c12; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">PORT</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">80</div>
                                        </div>
                                        <div class="field vlan" style="background: #27ae60; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">VLAN</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">100</div>
                                        </div>
                                        <div class="field ttl" style="background: #9b59b6; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">TTL</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">64</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Arrow down -->
                        <div style="margin: 2px 0;">
                            <svg width="30" height="24" viewBox="0 0 40 40">
                                <path d="M20 5 L20 25 M12 17 L20 25 L28 17" stroke="#2c3e50" stroke-width="5" fill="none"/>
                            </svg>
                        </div>
                        
                        <!-- Program in middle -->
                        <div style="width: 450px; margin-bottom: 8px;">
                            <div style="font-size: 0.7em; margin-bottom: 3px; font-weight: bold;">Processing Program:</div>
                            <pre style="margin: 0;"><code class="language-javascript" style="font-size: 0.6em; line-height: 1.3; padding: 8px; border-radius: 6px; width: 400px;">while(ttl > 0) {
  if (dst == 10.0.0.101) {
    vlan = 200
    ttl = ttl - 1
    switch = S4
  }
  ...
}</code></pre>
                        </div>
                        
                        <!-- Arrow down -->
                        <div style="margin: 2px 0;">
                            <svg width="30" height="24" viewBox="0 0 40 40">
                                <path d="M20 5 L20 25 M12 17 L20 25 L28 17" stroke="#2c3e50" stroke-width="5" fill="none"/>
                            </svg>
                        </div>
                        
                        <!-- Output packet at bottom -->
                        <div style="width: 450px;">
                            <div style="font-size: 0.7em; color: #7f8c8d; margin-bottom: 3px;">Output Packet:</div>
                            <div style="transform: scale(0.55); transform-origin: left top; width: 750px; height: 44px;">
                                <div style="background: white; border: 2px solid #2c3e50; border-radius: 8px; padding: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <div class="packet-fields" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px;">
                                        <div class="field switch" style="background: #34495e; color: white; padding: 8px; border-radius: 4px; text-align: center; box-shadow: 0 0 0 3px #f39c12;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">SWITCH</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">S4</div>
                                        </div>
                                        <div class="field src" style="background: #3498db; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">SRC</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">10.0.0.1</div>
                                        </div>
                                        <div class="field dst" style="background: #e74c3c; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">DST</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">10.0.0.101</div>
                                        </div>
                                        <div class="field port" style="background: #f39c12; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">PORT</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">80</div>
                                        </div>
                                        <div class="field vlan" style="background: #27ae60; color: white; padding: 8px; border-radius: 4px; text-align: center; box-shadow: 0 0 0 3px #f39c12;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">VLAN</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">200</div>
                                        </div>
                                        <div class="field ttl" style="background: #9b59b6; color: white; padding: 8px; border-radius: 4px; text-align: center; box-shadow: 0 0 0 3px #f39c12;">
                                            <div class="field-name" style="font-size: 11px; color: rgba(255, 255, 255, 0.8); margin-bottom: 3px;">TTL</div>
                                            <div class="field-value" style="font-size: 14px; font-weight: bold; color: white;">63</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right column: Key ideas -->
                    <div style="flex: 1; padding-top: 40px;">
                        <div style="background: #ecf0f1; padding: 15px; border-radius: 8px; margin-bottom: 15px; text-align: center;">
                            <h3 style="font-size: 0.9em; margin: 0 0 8px 0; color: #2c3e50;">Key Insight</h3>
                            <p style="font-size: 0.6em; margin: 0; font-weight: bold;">Network behavior = Program execution</p>
                        </div>
                        
                        <div style="font-size: 0.7em; line-height: 1.5;">
                            <ul style="margin: 0; padding-left: 18px;">
                                <li style="margin-bottom: 8px;">Packet field = <strong>local variable</strong></li>
                                <li style="margin-bottom: 8px;">Match rule = <strong>if statement</strong></li>
                                <li style="margin-bottom: 8px;">Action = <strong>variable update</strong></li>
                                <li style="margin-bottom: 8px;">Multi-hop = <strong>loops</strong></li>
                                <li style="margin-bottom: 8px;">Verification = <strong>program equivalence</strong></li>
                            </ul>
                        </div>
                        
                        <div style="margin-top: 25px; padding: 12px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 6px;">
                            <p style="font-size: 0.65em; margin: 0; color: #856404;">
                                <strong>NetKAT:</strong> Kleene algebra with tests for network verification
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Slide 4: NetKAT Limitation -->
            <section data-transition="fade">
                <h2>NetKAT Limitations</h2>
                
                <div style="display: flex; flex-direction: column; align-items: center; margin-top: 30px;">
                    <div style="background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px; padding: 30px; margin-bottom: 30px; max-width: 700px;">
                        <p style="font-size: 1.3em; color: #e74c3c; font-weight: bold; text-align: center; margin: 0;">
                            Fixed number of fields with fixed number of bits
                        </p>
                    </div>
                    
                    <div style="font-size: 0.7em; line-height: 1.6; display: flex; justify-content: space-between; min-width: fit-content; white-space: nowrap; width: 800px; margin: 0 auto;">
                        <ul style="list-style-type: none; padding: 0; margin: 0; flex: 1;">
                            <li style="margin-bottom: 12px;">❌ No variable-length data</li>
                            <li style="margin-bottom: 12px;">❌ Doesn't model packet parsing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
                            <li style="margin-bottom: 12px;">❌ Cannot handle tunneling</li>
                        </ul>
                        <ul style="list-style-type: none; padding: 0; margin: 0; flex: 1;">
                            <li style="margin-bottom: 12px;">❌ Cannot handle SR / MPLS </li>
                            <li style="margin-bottom: 12px;">❌ Cannot model unbounded state</li>
                            <li style="margin-bottom: 12px;">❌ Limited to finite-state verification</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 35px; font-style: italic; color: #7f8c8d; font-size: 0.95em;">
                        We need to model infinite state.
                    </div>
                </div>
                
            </section>

            <!-- The next slide will introduce StacKAT.
             It will have a blurb and a packet where the payload is also included (at the end of the packet, and clearly labeled "payload" and 0111010110010...) 
             Also add the negation of the previous limitations, showing that StacKAT can handle all of them -->

            <!-- Slide 5: Introducing StacKAT -->
            <section data-transition="fade">
                <h2>StacKAT: Infinite State Modeling</h2>
                <div style="height: 10px;"></div>
                
                <div style="display: flex; flex-direction: column; align-items: center; margin-top: 20px;">
                    <!-- Extended packet visualization -->
                    <div style="width: 900px; margin-bottom: 25px;">
                        <div style="font-size: 0.7em; color: #7f8c8d; margin-bottom: 3px;">Packet with Variable-Length Payload:</div>
                        <div style="background: white; border: 2px solid #2c3e50; border-radius: 8px; padding: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <!-- Fixed header fields -->
                                <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; flex-shrink: 0;">
                                    <div class="field switch" style="background: #34495e; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                        <div class="field-name" style="font-size: 9px; color: rgba(255, 255, 255, 0.8); margin-bottom: 2px;">SWITCH</div>
                                        <div class="field-value" style="font-size: 12px; font-weight: bold; color: white;">S1</div>
                                    </div>
                                    <div class="field src" style="background: #3498db; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                        <div class="field-name" style="font-size: 9px; color: rgba(255, 255, 255, 0.8); margin-bottom: 2px;">SRC</div>
                                        <div class="field-value" style="font-size: 12px; font-weight: bold; color: white;">10.0.0.1</div>
                                    </div>
                                    <div class="field dst" style="background: #e74c3c; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                        <div class="field-name" style="font-size: 9px; color: rgba(255, 255, 255, 0.8); margin-bottom: 2px;">DST</div>
                                        <div class="field-value" style="font-size: 12px; font-weight: bold; color: white;">10.0.0.101</div>
                                    </div>
                                    <div class="field port" style="background: #f39c12; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                        <div class="field-name" style="font-size: 9px; color: rgba(255, 255, 255, 0.8); margin-bottom: 2px;">PORT</div>
                                        <div class="field-value" style="font-size: 12px; font-weight: bold; color: white;">80</div>
                                    </div>
                                    <div class="field vlan" style="background: #27ae60; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                        <div class="field-name" style="font-size: 9px; color: rgba(255, 255, 255, 0.8); margin-bottom: 2px;">VLAN</div>
                                        <div class="field-value" style="font-size: 12px; font-weight: bold; color: white;">100</div>
                                    </div>
                                    <div class="field ttl" style="background: #9b59b6; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                                        <div class="field-name" style="font-size: 9px; color: rgba(255, 255, 255, 0.8); margin-bottom: 2px;">TTL</div>
                                        <div class="field-value" style="font-size: 12px; font-weight: bold; color: white;">64</div>
                                    </div>
                                </div>
                                
                                <!-- Variable-length payload -->
                                <div style="flex: 1; background: #95a5a6; color: white; padding: 8px 15px; border-radius: 4px; text-align: center; position: relative;">
                                    <div class="field-name" style="font-size: 9px; color: rgba(255, 255, 255, 0.8); margin-bottom: 2px;">PAYLOAD</div>
                                    <div style="font-size: 11px; font-family: monospace; letter-spacing: 1px; overflow: hidden; text-overflow: ellipsis;">
                                        0111010110010110101001...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="height: 10px;"></div>
                    
                    <!-- Introduction blurb -->
                    <div style="background: #e8f8f5; border: 2px solid #27ae60; border-radius: 8px; padding: 20px; margin-bottom: 25px; max-width: 700px;">
                        <p style="font-size: 0.9em; text-align: center; margin: 0; color: #186a3b;">
                            <strong>StacKAT</strong> extends NetKAT with a <strong>stack</strong> to model variable-length payload data
                        </p>
                    </div>

                    <div style="height: 10px;"></div>

                    <div style="margin-top: 25px; font-style: italic; color: #000; font-size: 0.85em;">
                        Known from NetKAT: <strong>verification = program equivalence</strong>
                    </div>
                    
                    <div style="margin-top: 25px; font-style: italic; color: #000; font-size: 0.85em;">
                        Main challenge: <strong>decidable infinite state equivalence</strong>
                    </div>
                </div>
            </section>

            <!-- Slide 5b: StacKAT Packet Processing Animation -->
            <section data-transition="fade">
                <h2>StacKAT: Packet Processing with Payload</h2>
                
                <div class="packet-animation-stackat">
                    <div id="network-viz-stackat">
                        <svg id="network-svg-stackat" width="850" height="350"></svg>
                        <div id="mini-packet-stackat" class="mini-packet-stackat">
                            <div class="mini-packet-field switch"></div>
                            <div class="mini-packet-field src"></div>
                            <div class="mini-packet-field dst"></div>
                            <div class="mini-packet-field port"></div>
                            <div class="mini-packet-field vlan"></div>
                            <div class="mini-packet-field ttl"></div>
                            <div class="mini-packet-field payload"></div>
                        </div>
                    </div>
                    <div id="large-packet-stackat" class="large-packet-stackat">
                        <div class="packet-fields-stackat">
                            <div class="field switch" data-field="switch">
                                <div class="field-name">SWITCH</div>
                                <div class="field-value" id="field-switch-stackat">-</div>
                            </div>
                            <div class="field src" data-field="src">
                                <div class="field-name">SRC</div>
                                <div class="field-value" id="field-src-stackat">-</div>
                            </div>
                            <div class="field dst" data-field="dst">
                                <div class="field-name">DST</div>
                                <div class="field-value" id="field-dst-stackat">-</div>
                            </div>
                            <div class="field port" data-field="port">
                                <div class="field-name">PORT</div>
                                <div class="field-value" id="field-port-stackat">-</div>
                            </div>
                            <div class="field vlan" data-field="vlan">
                                <div class="field-name">VLAN</div>
                                <div class="field-value" id="field-vlan-stackat">-</div>
                            </div>
                            <div class="field ttl" data-field="ttl">
                                <div class="field-name">TTL</div>
                                <div class="field-value" id="field-ttl-stackat">-</div>
                            </div>
                            <div class="field payload" data-field="payload">
                                <div class="field-name">PAYLOAD</div>
                                <div class="field-value" id="field-payload-stackat" style="font-family: monospace; font-size: 14px; text-align: right;">-</div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </section>

            <!-- Slide 6: StacKAT Language -->
            <section data-transition="fade">
                <h2>The StacKAT Language</h2>
                
                <div style="margin-top: 30px;">
                    <!-- Grammar display -->
                    <div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px 25px; margin-bottom: 30px;">
                        <div style="font-family: monospace; font-size: 0.7em; line-height: 1.6; text-align: center; font-weight: 600;">
                            <span style="color: #2c3e50; font-weight: 700;">e</span> ::= 
                            <span style="color: #2c3e50; font-weight: 600;">e₁ + e₂</span> | 
                            <span style="color: #2c3e50; font-weight: 600;">e₁ · e₂</span> | 
                            <span style="color: #2c3e50; font-weight: 600;">e<sup>*</sup></span> | 
                            <span style="color: #2c3e50; font-weight: 600;">f := n</span> | 
                            <span style="color: #2c3e50; font-weight: 600;">f == n</span> | 
                            <br><span style="color: #27ae60; font-weight: 700;">push(n)</span> | 
                            <span style="color: #27ae60; font-weight: 700;">pop(n)</span>
                        </div>
                    </div>
                    
                    <!-- Operation descriptions -->
                    <div style="display: flex; gap: 30px; margin-top: 20px;">
                        <!-- NetKAT operations -->
                        <div style="flex: 1.2;">
                            <h3 style="font-size: 0.9em; color: #2c3e50; margin-bottom: 15px; text-align: left;">NetKAT Operations</h3>
                            <table style="font-size: 0.6em; line-height: 1.4; width: 100%;">
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #2c3e50; width: 25%; white-space: nowrap;">0</td>
                                    <td style="padding: 4px 8px;">Drop packet (fail)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #2c3e50; white-space: nowrap;">1</td>
                                    <td style="padding: 4px 8px;">Forward packet (skip)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #2c3e50; white-space: nowrap;">e₁ + e₂</td>
                                    <td style="padding: 4px 8px;">Non-deterministic choice</td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #2c3e50; white-space: nowrap;">e₁ · e₂</td>
                                    <td style="padding: 4px 8px;">Sequential composition</td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #2c3e50; white-space: nowrap;">e<sup>*</sup></td>
                                    <td style="padding: 4px 8px;">Kleene star (iteration)</td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #2c3e50; white-space: nowrap;">f := n</td>
                                    <td style="padding: 4px 8px;">Set field f to constant n</td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #2c3e50; white-space: nowrap;">f == n</td>
                                    <td style="padding: 4px 8px;">Test field f equals n</td>
                                </tr>
                            </table>
                        </div>
                        
                        <!-- StacKAT additions -->
                        <div style="flex: 1.3;">
                            <h3 style="font-size: 0.9em; color: #27ae60; margin-bottom: 15px; text-align: left;">StacKAT Extensions</h3>
                            <table style="font-size: 0.6em; line-height: 1.4; width: 100%; border-collapse: collapse;">
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #27ae60; font-weight: bold; width: 30%; white-space: nowrap; border: none;">push(n)</td>
                                    <td style="padding: 4px 8px; border: none;">Push constant n onto stack</td>
                                </tr>
                                <tr>
                                    <td style="padding: 4px 8px; font-family: monospace; color: #27ae60; font-weight: bold; white-space: nowrap; border: none;">pop(n)</td>
                                    <td style="padding: 4px 8px; border: none;">Pop from stack, test if equals n</td>
                                </tr>
                            </table>
                            
                            <div style="margin-top: 20px; padding: 15px; background: #e8f8f5; border: 1px solid #27ae60; border-radius: 6px;">
                                <p style="font-size: 0.7em; margin: 0; color: #186a3b;">
                                    <strong>Key insight:</strong> Stack operations enable modeling of variable-length data and unbounded state
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Stack Operations</h2>
                
                <div style="margin-top: 40px;">
                    
                    <!-- Visual examples -->
                    <div style="display: flex; gap: 40px; justify-content: center;">
                        <!-- Push example -->
                        <div style="text-align: center;">
                            <h3 style="font-size: 0.85em; margin-bottom: 15px; color: #27ae60;">push(3)</h3>
                            <div style="display: flex; align-items: stretch; gap: 20px; justify-content: center;">
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">Before</div>
                                    <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                        <div style="background: #95a5a6; color: white; padding: 8px 12px; border-radius: 4px; font-family: monospace; font-size: 0.7em; text-align: center;">
                                            [1, 2]
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; flex-direction: column;">
                                    <div style="font-size: 0.6em; color: transparent; margin-bottom: 5px;">.</div>
                                    <div style="flex: 1; display: flex; align-items: center;">
                                        <svg width="40" height="40" viewBox="0 0 40 40" style="margin: 0 -5px;">
                                            <path d="M 5 20 L 35 20 M 25 10 L 35 20 L 25 30" stroke="#27ae60" stroke-width="4" fill="none"/>
                                        </svg>
                                    </div>
                                </div>
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">After</div>
                                    <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                        <div style="background: #95a5a6; color: white; padding: 8px 12px; border-radius: 4px; font-family: monospace; font-size: 0.7em; text-align: center;">
                                            [3, 1, 2]
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pop example -->
                        <div style="text-align: center;">
                            <h3 style="font-size: 0.85em; margin-bottom: 15px; color: #27ae60;">pop(3)</h3>
                            <div style="display: flex; align-items: stretch; gap: 20px; justify-content: center;">
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">Before</div>
                                    <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                        <div style="background: #95a5a6; color: white; padding: 8px 12px; border-radius: 4px; font-family: monospace; font-size: 0.7em; text-align: center;">
                                            [3, 1, 2]
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; flex-direction: column;">
                                    <div style="font-size: 0.6em; color: transparent; margin-bottom: 5px;">.</div>
                                    <div style="flex: 1; display: flex; align-items: center;">
                                        <svg width="40" height="40" viewBox="0 0 40 40" style="margin: 0 -5px;">
                                            <path d="M 5 20 L 35 20 M 25 10 L 35 20 L 25 30" stroke="#27ae60" stroke-width="4" fill="none"/>
                                        </svg>
                                    </div>
                                </div>
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">After</div>
                                    <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                        <div style="background: #95a5a6; color: white; padding: 8px 12px; border-radius: 4px; font-family: monospace; font-size: 0.7em; text-align: center;">
                                            [1, 2]
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="font-size: 0.6em; color: #27ae60; margin-top: 8px;">✓ Test passed</div>
                        </div>
                    </div>
                    
                    <!-- Failed pop examples -->
                    <div style="margin-top: 30px;">
                        <div style="display: flex; gap: 40px; justify-content: center;">
                            <!-- pop(5) with non-empty stack -->
                            <div style="text-align: center;">
                                <h3 style="font-size: 0.85em; margin-bottom: 15px; color: #e74c3c;">pop(5) - Test fails</h3>
                                <div style="display: flex; align-items: stretch; gap: 20px; justify-content: center;">
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">Before</div>
                                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                            <div style="background: #95a5a6; color: white; padding: 8px 12px; border-radius: 4px; font-family: monospace; font-size: 0.7em; text-align: center;">
                                                [3, 1, 2]
                                            </div>
                                        </div>
                                    </div>
                                    <div style="display: flex; flex-direction: column;">
                                        <div style="font-size: 0.6em; color: transparent; margin-bottom: 5px;">.</div>
                                        <div style="flex: 1; display: flex; align-items: center;">
                                            <svg width="40" height="40" viewBox="0 0 40 40" style="margin: 0 -5px;">
                                                <path d="M 5 20 L 35 20 M 25 10 L 35 20 L 25 30" stroke="#e74c3c" stroke-width="4" fill="none"/>
                                            </svg>
                                        </div>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">After</div>
                                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                            <div style="padding: 8px 12px; font-size: 0.7em; color: #e74c3c; text-align: center;">
                                                ∅
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="font-size: 0.6em; color: #e74c3c; margin-top: 8px;">✗ Top was 3, not 5 → packet dropped</div>
                            </div>
                            
                            <!-- pop(3) with empty stack -->
                            <div style="text-align: center;">
                                <h3 style="font-size: 0.85em; margin-bottom: 15px; color: #e74c3c;">pop(3) - Empty stack</h3>
                                <div style="display: flex; align-items: stretch; gap: 20px; justify-content: center;">
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">Before</div>
                                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                            <div style="background: #95a5a6; color: white; padding: 8px 12px; border-radius: 4px; font-family: monospace; font-size: 0.7em; text-align: center;">
                                                [ ]
                                            </div>
                                        </div>
                                    </div>
                                    <div style="display: flex; flex-direction: column;">
                                        <div style="font-size: 0.6em; color: transparent; margin-bottom: 5px;">.</div>
                                        <div style="flex: 1; display: flex; align-items: center;">
                                            <svg width="40" height="40" viewBox="0 0 40 40" style="margin: 0 -5px;">
                                                <path d="M 5 20 L 35 20 M 25 10 L 35 20 L 25 30" stroke="#e74c3c" stroke-width="4" fill="none"/>
                                            </svg>
                                        </div>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="font-size: 0.6em; color: #666; margin-bottom: 5px;">After</div>
                                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 6px; padding: 10px;">
                                            <div style="padding: 8px 12px; font-size: 0.7em; color: #e74c3c; text-align: center;">
                                                ∅
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="font-size: 0.6em; color: #e74c3c; margin-top: 8px;">✗ Stack was empty → packet dropped</div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </section>

            <section data-transition="fade">
                <h2>Common Programming Patterns</h2>
                <div style="margin-top: 40px;">
                    <table style="width: 100%; border-collapse: separate; border-spacing: 10px 10px;">
                        <tr>
                            <td style="width: 50%; padding: 0; background: #f8f9fa; border-radius: 8px; overflow: hidden;">
                                <div style="background: #7fb3e3; color: white; padding: 15px; text-align: center;">
                                    <h3 style="font-size: 1.1em; margin: 0;">if f==0 then p else q</h3>
                                </div>
                                <div style="padding: 20px; font-family: monospace; text-align: center; font-size: 0.8em;">
                                    f==0·p + f==1·q
                                </div>
                            </td>
                            <td style="width: 50%; padding: 0; background: #f8f9fa; border-radius: 8px; overflow: hidden;">
                                <div style="background: #f1a7a7; color: white; padding: 15px; text-align: center;">
                                    <h3 style="font-size: 1.1em; margin: 0;">while f==0 do p</h3>
                                </div>
                                <div style="padding: 20px; font-family: monospace; text-align: center; font-size: 0.8em;">
                                    (f==0·p)<sup>*</sup>·f==1
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 50%; padding: 0; background: #f8f9fa; border-radius: 8px; overflow: hidden;">
                                <div style="background: #98d8bf; color: white; padding: 15px; text-align: center;">
                                    <h3 style="font-size: 1.1em; margin: 0;">push(f)</h3>
                                </div>
                                <div style="padding: 20px; font-family: monospace; text-align: center; font-size: 0.8em;">
                                    f=0·push(0) +<br>f=1·push(1)<span style="color: transparent;"> +</span>
                                </div>
                            </td>
                            <td style="width: 50%; padding: 0; background: #f8f9fa; border-radius: 8px; overflow: hidden;">
                                <div style="background: #d4b3e3; color: white; padding: 15px; text-align: center;">
                                    <h3 style="font-size: 1.1em; margin: 0;">f := pop()</h3>
                                </div>
                                <div style="padding: 20px; font-family: monospace; text-align: center; font-size: 0.8em;">
                                    pop(0)·f:=0 +<br>pop(1)·f:=1<span style="color: transparent;"> +</span>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </section>

            <!-- Slide 7: StacKAT Semantics -->
            <section data-transition="fade">
                <h2>StacKAT Semantics</h2>
                
                <div style="margin-top: 30px;">
                    <!-- Main concept -->
                    <div style="background: #e8f8f5; border: 2px solid #27ae60; border-radius: 8px; padding: 20px; margin-bottom: 30px;">
                        <p style="font-size: 0.7em; text-align: center; margin: 0; color: #186a3b;">
                            A StacKAT program defines a <strong>relation</strong> between input and output packets
                        </p>
                    </div>
                    
                    <!-- Packet structure visualization -->
                    <div style="display: flex; gap: 10px; align-items: center; justify-content: center; margin-bottom: 30px;">
                        <!-- Input packet -->
                        <div style="text-align: center;">
                            <div style="font-size: 0.7em; color: #7f8c8d; margin-bottom: 8px;">Input Packet</div>
                            <div style="background: white; border: 2px solid #2c3e50; border-radius: 8px; padding: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <div>
                                        <div style="font-size: 0.55em; color: #7f8c8d; margin-bottom: 4px;">Header Fields</div>
                                        <div style="display: flex; gap: 4px;">
                                            <div style="background: #3498db; color: white; padding: 6px 8px; border-radius: 4px; font-size: 0.55em;">src</div>
                                            <div style="background: #e74c3c; color: white; padding: 6px 8px; border-radius: 4px; font-size: 0.55em;">dst</div>
                                            <div style="background: #f39c12; color: white; padding: 6px 8px; border-radius: 4px; font-size: 0.55em;">port</div>
                                        </div>
                                    </div>
                                    <div style="border-left: 1px solid #ddd; padding-left: 10px;">
                                        <div style="font-size: 0.55em; color: #7f8c8d; margin-bottom: 4px;">Payload (Stack)</div>
                                        <div style="background: #95a5a6; color: white; padding: 6px 10px; border-radius: 4px; font-size: 0.55em; font-family: monospace;">
                                            [v₁, ..., vₙ]
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Arrow -->
                        <div style="padding-top: 0.7em;">
                            <svg width="60" height="40" viewBox="0 -10 60 50">
                                <path d="M 0 25 L 55 25 M 42 12 L 55 25 L 42 38" stroke="#2c3e50" stroke-width="5" fill="none"/>
                                <text x="25" y="10" text-anchor="middle" font-size="26" fill="#2c3e50" font-weight="bold">[e]</text>
                            </svg>
                        </div>
                        
                        <!-- Output packet -->
                        <div style="text-align: center;">
                            <div style="font-size: 0.7em; color: #7f8c8d; margin-bottom: 8px;">Output Packet</div>
                            <div style="background: white; border: 2px solid #2c3e50; border-radius: 8px; padding: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <div>
                                        <div style="font-size: 0.55em; color: #7f8c8d; margin-bottom: 4px;">Header Fields</div>
                                        <div style="display: flex; gap: 4px;">
                                            <div style="background: #3498db; color: white; padding: 6px 8px; border-radius: 4px; font-size: 0.55em;">src'</div>
                                            <div style="background: #e74c3c; color: white; padding: 6px 8px; border-radius: 4px; font-size: 0.55em;">dst'</div>
                                            <div style="background: #f39c12; color: white; padding: 6px 8px; border-radius: 4px; font-size: 0.55em;">port'</div>
                                        </div>
                                    </div>
                                    <div style="border-left: 1px solid #ddd; padding-left: 10px;">
                                        <div style="font-size: 0.55em; color: #7f8c8d; margin-bottom: 4px;">Payload (Stack)</div>
                                        <div style="background: #95a5a6; color: white; padding: 6px 10px; border-radius: 4px; font-size: 0.55em; font-family: monospace;">
                                            [w₁, ..., wₘ]
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Prominent note about relation mapping -->
                    <div style="text-align: center; margin: 35px auto;">
                        <p style="font-size: 0.85em; margin: 0 0 15px 0; color: #2c3e50;">
                            Each input packet is mapped to <span style="color: #e74c3c; font-weight: bold; font-size: 1.1em;">zero or more</span> output packets
                        </p>
                        <div style="display: flex; justify-content: center; gap: 40px; font-size: 0.7em; color: #666;">
                            <div>
                                <span style="font-weight: bold; color: #e74c3c;">0</span> outputs<br>
                                <span style="font-size: 0.9em;">packet dropped</span>
                            </div>
                            <div>
                                <span style="font-weight: bold; color: #f39c12;">1</span> output<br>
                                <span style="font-size: 0.9em;">deterministic</span>
                            </div>
                            <div>
                                <span style="font-weight: bold; color: #27ae60;">2+</span> outputs<br>
                                <span style="font-size: 0.9em;">non-deterministic</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Slide 8: Compositional Semantics -->
            <section data-transition="fade">
                <h2>Compositional Semantics</h2>
                
                <div style="margin-top: 40px;">
                    <div style="font-size: 0.6em; line-height: 1.8;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <tr style="vertical-align: top;">
                                <td style="padding: 8px 15px 8px 0; font-weight: bold; white-space: nowrap;">Sequencing:</td>
                                <td style="padding: 8px 15px 8px 0; font-family: monospace; font-size: 1.1em;">⟦e₁ · e₂⟧ = ⟦e₁⟧ ∘ ⟦e₂⟧</td>
                                <td style="padding: 8px 0; color: #666;">Relation composition</td>
                            </tr>
                            <tr style="vertical-align: top;">
                                <td style="padding: 8px 15px 8px 0; font-weight: bold; white-space: nowrap;">Choice:</td>
                                <td style="padding: 8px 15px 8px 0; font-family: monospace; font-size: 1.1em;">⟦e₁ + e₂⟧ = ⟦e₁⟧ ∪ ⟦e₂⟧</td>
                                <td style="padding: 8px 0; color: #666;">Relation union</td>
                            </tr>
                            <tr style="vertical-align: top;">
                                <td style="padding: 8px 15px 8px 0; font-weight: bold; white-space: nowrap;">Kleene star:</td>
                                <td style="padding: 8px 15px 8px 0; font-family: monospace; font-size: 1.1em;">⟦e<sup>*</sup>⟧ = ⟦e⟧<sup>*</sup></td>
                                <td style="padding: 8px 0; color: #666;">Reflexive transitive closure</td>
                            </tr>
                            <tr style="vertical-align: top;">
                                <td style="padding: 8px 15px 8px 0; font-weight: bold; white-space: nowrap;">Field test:</td>
                                <td style="padding: 8px 15px 8px 0; font-family: monospace; font-size: 1.1em;">⟦f == n⟧</td>
                                <td style="padding: 8px 0; color: #666;">Filter packets where field f equals n</td>
                            </tr>
                            <tr style="vertical-align: top;">
                                <td style="padding: 8px 15px 8px 0; font-weight: bold; white-space: nowrap;">Field update:</td>
                                <td style="padding: 8px 15px 8px 0; font-family: monospace; font-size: 1.1em;">⟦f := n⟧</td>
                                <td style="padding: 8px 0; color: #666;">Set field f to value n</td>
                            </tr>
                            <tr style="vertical-align: top;">
                                <td style="padding: 8px 15px 8px 0; font-weight: bold; white-space: nowrap;">Push:</td>
                                <td style="padding: 8px 15px 8px 0; font-family: monospace; font-size: 1.1em;">⟦push(n)⟧</td>
                                <td style="padding: 8px 0; color: #666;">Push constant n onto stack</td>
                            </tr>
                            <tr style="vertical-align: top;">
                                <td style="padding: 8px 15px 8px 0; font-weight: bold; white-space: nowrap;">Pop:</td>
                                <td style="padding: 8px 15px 8px 0; font-family: monospace; font-size: 1.1em;">⟦pop(n)⟧</td>
                                <td style="padding: 8px 0; color: #666;">Pop and test equals n</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Slide 10: Key Verification Question -->
            <section data-transition="fade">
                <h2>The Key Verification Question</h2>
                
                <div style="margin-top: 40px;">
                    <!-- Main question -->
                    <div style="background: #e8f8f5; border: 2px solid #27ae60; border-radius: 8px; padding: 30px; margin-bottom: 40px; text-align: center;">
                        <p style="font-size: 1.1em; margin: 0; color: #186a3b;">
                            Is ⟦e₁⟧ = ⟦e₂⟧ ?
                        </p>
                        <p style="font-size: 0.8em; margin: 10px 0 0 0; color: #186a3b;">
                            Do two programs have the same semantics?
                        </p>
                    </div>
                    
                    <!-- Comparison -->
                    <div style="display: flex; gap: 40px; margin-top: 30px;">
                        <!-- NetKAT -->
                        <div style="flex: 1; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px;">
                            <h3 style="font-size: 0.9em; color: #2c3e50; margin-bottom: 15px; text-align: center;">NetKAT</h3>
                            <ul style="font-size: 0.6em; line-height: 1.6; margin: 0; padding-left: 20px;">
                                <li style="margin-bottom: 8px;">Finite number of possible packets</li>
                                <li style="margin-bottom: 8px;">Finite-state automata</li>
                                <li style="margin-bottom: 8px; color: #27ae60; font-weight: bold;">✓ Decidable (PSPACE-complete)</li>
                            </ul>
                        </div>
                        
                        <!-- StacKAT -->
                        <div style="flex: 1; background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; padding: 20px;">
                            <h3 style="font-size: 0.9em; color: #856404; margin-bottom: 15px; text-align: center;">StacKAT</h3>
                            <ul style="font-size: 0.6em; line-height: 1.6; margin: 0; padding-left: 20px;">
                                <li style="margin-bottom: 8px;">Unbounded stack size</li>
                                <li style="margin-bottom: 8px;">Infinite number of possible packets</li>
                                <li style="margin-bottom: 8px; color: #e74c3c; font-weight: bold;">Decidable or undecidable?</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Surprising result -->
                    <div style="margin-top: 40px; text-align: center;">
                        <div style="display: inline-block; background: #e74c3c; color: white; padding: 20px 30px; border-radius: 8px; font-size: 0.9em; font-weight: bold;">
                            Surprising: It's decidable! (EXPSPACE-complete)
                        </div>
                    </div>
                </div>
            </section>

            <!-- Slide 11: Examples of StacKAT Equivalences -->
            <section data-transition="fade">
                <h2>Basic StacKAT Equivalences</h2>
                
                <div style="margin-top: 60px;">
                    <!-- Basic push-pop cancellation -->
                    <div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 30px;">
                        <div style="font-family: monospace; font-size: 0.65em; line-height: 2.2;">
                            <div style="margin-bottom: 20px;">
                                &nbsp;&nbsp;&nbsp;&nbsp;push(v)·pop(v) ≡ 1 
                                <span style="color: #666; font-family: sans-serif; font-size: 0.85em; margin-left: 30px;">// push then pop cancels out</span>
                            </div>
                            <div style="margin-bottom: 20px;">
                                &nbsp;&nbsp;&nbsp;&nbsp;push(v)·pop(w) ≡ 0 
                                <span style="color: #666; font-family: sans-serif; font-size: 0.85em; margin-left: 30px;">// mismatched values drop packet (v ≠ w)</span>
                            </div>
                            <div>
                                pop(v)·push(v) + 1 ≡ 1
                                <span style="color: #666; font-family: sans-serif; font-size: 0.85em; margin-left: 30px;">// pop-push has no effect when it succeeds</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 40px; text-align: center; font-size: 0.8em; color: #666;">
                        These rules capture the basic interactions between push and pop operations
                    </div>
                </div>
            </section>

            <!-- Slide 12: Surprising Equivalence -->
            <section data-transition="fade">
                <h2>A Surprising Equivalence</h2>
                
                <div style="margin-top: 100px;">
                    <div style="text-align: center; font-family: monospace; font-size: 0.9em; margin-bottom: 30px;">
                        push(a)<sup>*</sup> · pop(a)<sup>*</sup> &nbsp;≡&nbsp; push(a)<sup>*</sup> + pop(a)<sup>*</sup>
                    </div>
                    
                    <div style="margin-top: 100px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; padding: 20px;">
                        <p style="font-size: 0.8em; color: #856404; margin: 0; text-align: center;">
                            <strong>Why?</strong> After push-pop cancellation, the net effect is either:<br>
                            • Only pushes remain (if more pushes than pops)<br>
                            • Only pops remain (if more pops than pushes)<br>
                            • Nothing remains (if equal pushes and pops)
                        </p>
                    </div>
                </div>
            </section>

            <!-- Slide 13: Exercise -->
            <section data-transition="fade">
                <h2>Which Programs are Equivalent?</h2>
                
                <div style="margin-top: 50px;">
                    <div style="display: flex; gap: 40px; font-family: monospace; font-size: 0.5em;">
                        <!-- Left column -->
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 30px;">
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                pop(v)<sup>*</sup> · push(v)<sup>*</sup>
                            </div>
                            
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                (push(v) + pop(v))<sup>*</sup>
                            </div>
                            
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                push(v)<sup>*</sup> · (pop(v) · pop(v))<sup>*</sup>
                            </div>
                            
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                (pop(v) · pop(v))<sup>*</sup> · push(v)<sup>*</sup>
                            </div>
                        </div>
                        
                        <!-- Right column -->
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 30px;">
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                pop(v)<sup>*</sup> · (push(v) · push(v))<sup>*</sup>
                            </div>
                            
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                (push(v)<sup>*</sup> · pop(v))<sup>*</sup>
                            </div>
                            
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                push(v)<sup>*</sup> + pop(v)<sup>*</sup>
                            </div>
                            
                            <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; text-align: center;">
                                (push(v) · pop(v))<sup>*</sup>
                            </div>
                        </div>
                    </div>
                </div>
            </section>


            <!-- Slide 14: Demo -->
            <section data-transition="fade">
                <h2>Interactive Demo</h2>
                
                <div style="margin-top: 20px; height: calc(100vh - 200px);">
                    <iframe src="stackatv1.html" 
                            style="width: 100%; height: 100%; border: none; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
                            title="StacKAT Interactive Demo">
                    </iframe>
                </div>
                
                <div style="margin-top: 15px; text-align: center; font-size: 0.7em; color: #666;">
                    Try entering StacKAT programs to see their automata and test equivalence
                </div>
            </section>

            <!-- Slide 20: Verification Algorithm -->
            <section data-transition="fade">
                <h2>Verification Algorithm</h2>
                
                <!-- Goal statement at top -->
                <div style="text-align: center; margin-top: 5px; margin-bottom: 20px; font-size: 0.8em; color: #333;">
                    Goal: Check language equivalence <strong>L(A₁) = L(A₂)</strong> after normalization
                </div>

                <div style="margin-top: 10px;">
                    <!-- Table layout: 3 columns, 4 rows -->
                    <table style="width: 100%; border-collapse: separate; border-spacing: 0;">
                        <!-- Row 1: Initial state -->
                        <tr>
                            <td style="width: 25%; vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="background-color: #f0f0f0; padding: 10px 15px; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <h4 style="margin: 0 0 5px 0; font-size: 0.6em;">StacKAT Program</h4>
                                    <div style="font-family: monospace; font-size: 0.5em; line-height: 2.2; color: white; background-color: #2c3e50; padding: 0px 0px; border-radius: 4px;">push(3)<sup>*</sup> · pop(3)<sup>*</sup></div>
                                </div>
                            </td>
                            <td style="width: 25%; vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 1.2em; color: #666;">→</div>
                                <div style="font-size: 0.6em; color: #666; margin-top: -8px;">Convert</div>
                            </td>
                            <td style="width: 25%; vertical-align: middle; padding: 8px;">
                                <div style="background-color: #e8f4f8; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center;">
                                    <img src="tikz-svg/push-pop-star-original.svg" style="max-width: 100%; height: 100%;" alt="Initial automaton">
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Row 2: Push-pop closure -->
                        <tr>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #999;">Step 1</div>
                            </td>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #666; font-weight: bold;">Push-pop closure</div>
                                <div style="font-size: 0.55em; color: #999; margin-top: 2px;">Add ε-transitions</div>
                            </td>
                            <td style="vertical-align: middle; padding: 8px;">
                                <div style="background-color: #f8e8e8; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center;">
                                    <img src="tikz-svg/push-pop-star-closure.svg" style="max-width: 100%; height: 100%;" alt="After push-pop closure">
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Row 3: Pop-push filtering -->
                        <tr>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #999;">Step 2</div>
                            </td>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #666; font-weight: bold;">Pop-push filtering</div>
                                <div style="font-size: 0.55em; color: #999; margin-top: 2px;">Intersect with pop<sup>*</sup>push<sup>*</sup></div>
                            </td>
                            <td style="vertical-align: middle; padding: 8px;">
                                <div style="background-color: #e8f8e8; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center;">
                                    <img src="tikz-svg/push-pop-star-intersection.svg" style="max-width: 100%; height: 100%;" alt="After pop-push filtering">
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Row 4: Zipping -->
                        <tr>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #999;">Step 3</div>
                            </td>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #666; font-weight: bold;">Zipping</div>
                                <div style="font-size: 0.55em; color: #999; margin-top: 2px;">Normalized automaton</div>
                            </td>
                            <td style="vertical-align: middle; padding: 8px;">
                                <div style="background-color: #f0f8f0; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center;">
                                    <img src="tikz-svg/zipped-automaton-1.svg" style="max-width: 100%; height: 100%;" alt="Normalized automaton">
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Step 0: Creating the Automaton</h2>
                <p style="font-size: 0.9em; margin-top: 20px; margin-bottom: -20px; text-align: center;">Idea: use small-step rules to generate finite automata</p>
                
                <div style="text-align: center; margin: 0px 0;">
                    <img src="opsem.png" style="max-width: 100%; height: auto;">
                </div>
                
                <div style="font-size: 0.85em; color: #666; text-align: center; margin-top: -20px;">
                    <p>State is <b>⟨header fields, expression⟩</b> &nbsp;→&nbsp; finite state!</p>
                    <p style="margin-top: 10px;">Stack handled via <b>labeled transitions</b></p>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Step 1: Push-Pop Closure</h2>
                
                <div style="margin-top: 30px;">
                    <!-- Main push-pop rule on top -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <div style="padding: 10px;">
                            <img src="tikz-svg/closure-rule-push-pop.svg" style="width: 50%; height: auto;" alt="Push-ε-Pop rule">
                        </div>
                        <div style="margin-top: -20px; margin-bottom: 75px;">
                            <p style="font-size: 0.75em; color: #666; margin: 0;"><b>Rule 1:</b> Add epsilon shortcut when push(v) followed by pop(v)</p>
                        </div>
                    </div>
                    
                    <!-- Two smaller rules below -->
                    <div style="text-align: center;">
                        <div style="display: flex; justify-content: center; gap: 40px;">
                            <div style="text-align: center;">
                                <img src="tikz-svg/closure-rule-epsilon-chain.svg" alt="ε-ε chain rule" style="transform: scale(1.5);">
                            </div>
                            <div style="text-align: center;">
                                <img src="tikz-svg/closure-rule-self-loop.svg" alt="Self-loop rule" style="transform: scale(1.5);">
                            </div>
                        </div>
                        <div style="margin-top: 0px;">
                            <p style="font-size: 0.75em; color: #666; margin: 0;"><b>Rule 2:</b> Maintain transitive reflexive closure of <span style="text-transform: none; font-variant: normal;">ε</span> edges</p>
                        </div>
                    </div>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Step 2: Pop-Push Filtering</h2>
                <p style="font-size: 0.9em; margin-bottom: 50px; margin-top: 50px; text-align: center;">Intersect automaton with <b>pop<sup>*</sup>push<sup>*</sup></b> language:</p>
                
                <table style="text-align: center;">
                    <tr>
                        <td style="width: 33%;">
                            <img src="tikz-svg/push-pop-star-closure.svg" style="transform: scale(2.5);" alt="After push-pop closure">
                        </td>
                        <td style="width: 33%; text-align: left">
                            <span style="font-size: 1em; color: #666; padding-left: 50px;">→</span>
                        </td>
                        <td style="width: 33%;">
                            <img src="tikz-svg/push-pop-star-intersection.svg" style="transform: scale(2.5);">
                        </td>
                    </tr>
                </table>
   
                <div style="font-size: 0.85em; color: #666; text-align: center; margin-top: 50px;">
                    Removes inconsistent <b>push(v) pop(w)</b> transitions<br>
                    Cancels out matching <b>push(v) pop(v)</b> transitions<br>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Step 3: Zipping the Automaton</h2>
                <p style="font-size: 0.9em; margin-bottom: 20px; text-align: center">Run the automaton "middle-out",<br> synchronizing push and pop actions</p>
                
                <div style="margin-top: 10px;">
                    <!-- Table layout: 3 columns, 3 rows -->
                    <table style="width: 100%; border-collapse: separate; border-spacing: 0;">
                        <!-- Row 1: Initial automaton -->
                        <tr>
                            <td style="width: 25%; vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #999;">Initial</div>
                            </td>
                            <td style="width: 25%; vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #666; font-weight: bold;">After pop-push filtering</div>
                            </td>
                            <td style="width: 25%; vertical-align: middle; padding: 8px;">
                                <div style="background-color: #e8f8e8; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center;">
                                    <img src="tikz-svg/push-pop-star-intersection.svg" style="max-width: 100%; height: 100%;" alt="After pop-push filtering">
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Row 2: Step 1 -->
                        <tr>
                            <td style="width: 20%; vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #999;">Step 1</div>
                            </td>
                            <td style="width: 50%; vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #666; font-weight: bold;">Zip automaton</div>
                                <div style="font-size: 0.55em; color: #999; margin-top: 2px;">Pairs represent synchronized inside-out actions</div>
                            </td>
                            <td style="width: 30%; vertical-align: middle; padding: 8px;">
                                <div style="background-color: #f0f8f0; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center;">
                                    <img src="tikz-svg/zipped-automaton-2.svg" style="max-width: 100%; height: 100%;" alt="After combining">
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Row 3: Step 2 -->
                        <tr>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #999;">Step 2</div>
                            </td>
                            <td style="vertical-align: middle; text-align: center; padding: 8px;">
                                <div style="font-size: 0.7em; color: #666; font-weight: bold;">Add initial-stack self-loops</div>
                                <div style="font-size: 0.55em; color: #999; margin-top: 2px;">Final normalized automaton</div>
                            </td>
                            <td style="vertical-align: middle; padding: 8px;">
                                <div style="background-color: #fff3cd; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center;">
                                    <img src="tikz-svg/zipped-automaton-1.svg" style="max-width: 100%; height: 100%;" alt="Final zipped automaton">
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                
                <div style="background-color: #f0f8ff; padding: 0; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); height: 98px; display: flex; align-items: center; justify-content: center; font-size: 0.85em; color: #666; text-align: center; margin-top: 20px;">
                    Theorem. L(A₁) = L(A₂) ⟺ ⟦e₁⟧ = ⟦e₂⟧
                </div>
            </section>

            <section data-transition="fade">
                <h2>Aside: Visibly Pushdown Languages</h2>
                
                <div style="margin-top: 40px; text-align: center;">
                    <div style="font-size: 1em; margin-bottom: 30px;">
                        Is this the same as visibly pushdown languages?
                        <span style="font-weight: bold; color: #e74c3c; margin-left: 10px;">No!</span>
                    </div>

                    <div style="display: flex; justify-content: space-around; margin: 40px 0; font-size: 0.6em;">
                        <div style="background: #f8f9fa; padding: 25px; border-radius: 10px; width: 45%; box-shadow: 0 2px 15px rgba(0,0,0,0.1); margin: 20px;">
                            <h3 style="color: #2c3e50; margin-bottom: 15px;">VPLs</h3>
                            <ul style="text-align: left; list-style-type: none;">
                                <li>✓ Restricted stack behavior</li>
                                <li>✓ Separate input tape</li>
                            </ul>
                        </div>

                        <div style="background: #e8f4f8; padding: 25px; border-radius: 10px; width: 45%; box-shadow: 0 2px 15px rgba(0,0,0,0.1); margin: 20px;">
                            <h3 style="color: #2c3e50; margin-bottom: 15px;">StacKAT</h3>
                            <ul style="text-align: left; list-style-type: none;">
                                <li>✓ Unrestricted stack behavior</li>
                                <li>✓ Input = initial stack (packet)</li>
                            </ul>
                        </div>
                    </div>

                    <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-top: 30px;">
                        <span style="font-weight: bold;">Key Insight:</span> Adding an input tape to StacKAT would make equivalence <span style="color: #dc3545;">undecidable</span>
                    </div>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Time Complexity</h2>
                
                <div style="display: flex; justify-content: center; gap: 100px; margin-top: 60px;">
                    <!-- Pure Stack Fragment -->
                    <div style="display: flex; flex-direction: column; align-items: center; width: 400px;">
                        <div style="font-size: 1em; font-weight: bold; margin-bottom: 15px; color: black; text-align: center;">Pure Stack Fragment</div>
                        <div style="background: #667eea; padding: 40px 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); color: white; text-align: center; width: 100%;">
                            <div style="font-size: 1.7em; font-weight: 300; letter-spacing: 2px;">PSPACE</div>
                            <div style="font-size: 1.1em; margin-top: 10px; opacity: 0.9;">complete</div>
                        </div>
                    </div>
                    
                    <!-- With Header Fields -->
                    <div style="display: flex; flex-direction: column; align-items: center; width: 400px;">
                        <div style="font-size: 1em; font-weight: bold; margin-bottom: 15px; color: black; text-align: center;">With Header Fields</div>
                        <div style="background: #f5576c; padding: 40px 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); color: white; text-align: center; width: 100%;">
                            <div style="font-size: 1.7em; font-weight: 300; letter-spacing: 2px;">EXPSPACE</div>
                            <div style="font-size: 1.1em; margin-top: 10px; opacity: 0.9;">complete</div>
                        </div>
                    </div>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Performance</h2>
                <img src="graph.png" style="width: 100%; height: auto;">
                
                <div style="margin: 10px auto; max-width: 800px; font-size: 0.8em;">
                    <div style="margin-top: 10px; text-align: center;">
                        <div style="background: #fff3cd; padding: 10px 20px; border-radius: 4px; display: inline-block; margin-bottom: 10px;">
                            <span style="color: #856404; font-weight: bold;">Challenge:</span>
                            <span style="color: #856404;">Scaling to large header space enumeration</span>
                        </div>
                        
                        <div style="background: #e8f4f8; padding: 10px 20px; border-radius: 4px; display: inline-block;">
                            <span style="color: #0c5460; font-weight: bold;">Future Direction:</span>
                            <span style="color: #0c5460;">Development of symbolic algorithm</span>
                        </div>
                    </div>
                </div>
            </section>

            <section data-transition="fade">
                <h2>Complete Axiomatization</h2>
                
                <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-top: 30px;">
                    <span style="font-weight: bold;">Definition:</span> An axiomatization is complete if every valid equation can be derived from the axioms
                </div>

                <div style="font-size: 0.7em; display: flex; justify-content: space-around; align-items: center; margin-top: 40px;">
                    <div style="background: #f8f9fa; padding: 10px; border-radius: 10px; width: 45%; box-shadow: 0 2px 15px rgba(0,0,0,0.1);">
                        <h3 style="color: #2c3e50; margin-bottom: 15px;">Ideal Axioms</h3>
                        <ul style="text-align: left; list-style-type: none; font-size: 1.5em; margin-left: -40px">
                            <li><pre style="border: none; background: none; box-shadow: none;"> push(v)⋅pop(v) ≡ 1</pre></li>
                            <li><pre style="border: none; background: none; box-shadow: none;"> push(v)⋅pop(w) ≡ 0 (v ≠ w)</pre></li>
                            <li><pre style="border: none; background: none; box-shadow: none;"> pop(v)⋅push(v) &leq; 1</pre></li>
                        </ul>
                    </div>

                    <div style="background: #e8f4f8; padding: 10px; border-radius: 10px; width: 45%; box-shadow: 0 2px 15px rgba(0,0,0,0.1);">
                        <h3 style="color: #2c3e50; margin-bottom: 15px;">Current Axioms</h3>
                        <ul style="text-align: left; list-style-type: none; font-size: 1.5em; margin-left: -40px">
                            <li><pre style="border: none; background: none; box-shadow: none;"> push(v)⋅pop(v) ≡ 1</pre></li>
                            <li><pre style="border: none; background: none; box-shadow: none;"> push(v)⋅pop(w) ≡ 0 (v ≠ w)</pre></li>
                            <li><pre style="border: none; background: none; box-shadow: none; color:red">  (ugly third axiom hidden)</pre></li>
                        </ul>
                    </div>

                </div>
                <p style="text-align: center; margin-top: 40px;">Future work: are the ideal axioms complete?</p>

            </section>

            <section data-transition="fade">
                <h2>Conclusion</h2>
                
                <!-- Main result -->
                <div style="background: #e8f8f5; border: 2px solid #27ae60; border-radius: 8px; padding: 30px; margin: 40px auto; text-align: center;">
                    <p style="font-size: 1em; margin: 0; color: #186a3b; font-weight: bold;">
                        StacKAT is a new model for unbounded packet processing with decidable equivalence
                    </p>
                </div>

                <div style="text-align: center; margin-bottom: -60px">
                    <a style="font-weight: bold" href="https://netkat.org/stackat">netkat.org/stackat</a>
                </div>

                <!-- Future work -->
                <div style="margin-top: 0px;text-align: center;">
                    <h3 style="font-size: 0.9em; color: #666; margin-top: 100px">Future Work</h3>
                    <div style="display: flex; justify-content: center; gap: 20px; margin-top: 20px;">
                        <div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 15px 25px;">
                            <span style="color: #2c3e50;">Surface Syntax</span>
                        </div>
                        <div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 15px 25px;">
                            <span style="color: #2c3e50;">Symbolic Algorithm</span>
                        </div>
                        <div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 15px 25px;">
                            <span style="color: #2c3e50;">Ideal Axiomatization</span>
                        </div>
                    </div>
                    <p><i>Goal: verification of real world large networks</i></p>
                </div>
            </section>

        </div>
    </div>

    <!-- Reveal.js dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/math/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/notes/notes.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/notes/notes.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/plugin/search/search.min.js"></script>
    <script src="slides.js"></script>    
</body>
</html>